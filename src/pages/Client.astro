---
import Layout from "../layouts/Layout.astro"

import TableModal from "../components/table/TableModal"
import { getClients } from "../../lib/actions/clients/actions"
import ModalAdd from "../components/modals/ModalAdd"
import { RouteGuard } from "../components/routeguard"

const data = await getClients()
---

<Layout title="Clients">
	<RouteGuard client:load="react">
		<div class="flex flex-col space-y-4">
			<div>
				<ModalAdd client:load />
			</div>
			<div>
				<TableModal info={data} caseType="client" client:load />
			</div>
		</div>
	</RouteGuard>
</Layout>
