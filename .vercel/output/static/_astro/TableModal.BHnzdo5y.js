import{j as e}from"./jsx-runtime.CDeAccHH.js";import{r as x}from"./index.CqbGxsOR.js";import{a as w,b as B,B as N,M as S,F as T,S as C,T as y,H as v,f as _}from"./FlightInfo.7ivDg8rd.js";import{L as f}from"./LoaderSpinner.t290QIza.js";import{u as k,g as I,a as P}from"./actions.DqSaCuXh.js";import{a as J,g as R,b as H,c as O}from"./actions.RyZlm8nd.js";import{g as D}from"./getCookie.CtV4NB4x.js";import"./index.D2MAbzvX.js";import"./index.Cb2GqDXq.js";async function G({caseType:r,id:t}){try{const n=await fetch(`https://vuelos-be.onrender.com/${r}/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error(`HTTP error! Status: ${n.status}`);return n}catch(n){throw console.error("Error deleting element:",n),n}}const V=({id:r,caseType:t,setData:n})=>{const[s,i]=x.useState(!1),[o,g]=x.useState(!1),{updateFlights:b,updateAirships:d,updateClients:m}=k(l=>l),c=async()=>{g(!0);try{if(await G({caseType:t,id:r}),t==="flight"){const l=await I();n(l.map(a=>{const{updatedAt:u,...h}=a;return h}).filter(a=>{const u=new Date(a.launchtime);return new Date<u})),b(l)}else if(t==="client"){const l=await J();n(l),m(l)}else if(t==="airship"){const l=await R();n(l),d(l)}}catch(l){console.error("Error:",l)}finally{g(!1),i(!1)}};return e.jsxs("div",{children:[e.jsx("button",{className:"bg-transparent p-2 ml-2",onClick:l=>{l.stopPropagation(),i(!0)},children:e.jsx("svg",{className:"w-6 h-6 text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"})})}),e.jsxs(w,{show:s,size:"md",onClose:()=>i(!1),popup:!0,children:[e.jsx(w.Header,{}),e.jsx(w.Body,{children:e.jsxs("div",{className:"text-center",children:[e.jsx(B,{className:"mx-auto mb-4 h-14 w-14 text-gray-900"}),e.jsxs("h3",{className:"mb-5 text-lg font-normal text-gray-900",children:["Are you sure you want to delete this id ",r,"?"]}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx(N,{className:"bg-red-600",onClick:c,children:"Yes, I'm sure"}),e.jsx(N,{color:"gray",onClick:()=>i(!1),children:"No, cancel"})]})]})})]}),o&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx(f,{})})]})},K=()=>{const[r,t]=x.useState(!1),[n,s]=x.useState(!1),[i,o]=x.useState(!1),[g,b]=x.useState("first"),[d,m]=x.useState({launchtime:new Date,to:"",from:"",price_cost:"",price_revenue:0,airship_name:"",master_passenger:"",companion_passengers:[]}),c=()=>{t(a=>!a)},l=async a=>{a.preventDefault(),o(!0);const{launchtime:u,to:h,from:p,price_cost:M,price_revenue:L,airship_name:z,master_passenger:E}=d,A=D("username"),j={launchtime:u.toISOString().slice(0,16),to:h,from:p,price_cost:M,price_revenue:L,airship_name:z,master_passenger:E,createdby:A};j.master_passenger,_(j);try{await P(j),s(!0),setTimeout(()=>{s(!1),window.location.reload()},2e3),t(!1)}catch(q){console.error("Error adding flight:",q)}finally{o(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("button",{id:"addFlightButton",className:"block text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800",type:"button",onClick:c,children:"Add Flight"}),r&&e.jsx("div",{id:"addFlightModal",tabIndex:-1,"aria-hidden":"true",className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-x-hidden overflow-y-auto backdrop-filter backdrop-blur-sm bg-opacity-50",children:e.jsx("div",{className:"relative w-full max-w-2xl max-h-full",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-800",children:[e.jsxs("div",{className:"flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600",children:[e.jsx(S,{phase:g}),e.jsxs("button",{type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:c,children:[e.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("form",{id:"addFlightForm",onSubmit:l,children:[e.jsx(T,{phase:g,formData:d,setFormData:m}),e.jsx(C,{phase:g,setPhase:b,operation:"add"})]})})]})})}),i&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx(f,{})}),n&&e.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2",children:e.jsxs(y,{children:[e.jsx("div",{className:"inline-flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-green-100 text-green-500 dark:bg-green-800 dark:text-green-200",children:e.jsx(v,{className:"h-5 w-5"})}),e.jsx("div",{className:"ml-3 text-sm font-normal",children:"Flight added successfully."}),e.jsx(y.Toggle,{onClick:()=>s(!1)})]})})]})},$=({loading:r})=>e.jsx(e.Fragment,{children:r?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx(f,{})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-2",children:e.jsx(K,{})}),e.jsx("div",{className:"flex justify-center items-center border-2 border-white rounded-lg h-[400px] w-[400px]",children:e.jsx("h2",{className:"text-2xl font-bold",children:"There is no data to show"})})]})});async function W({caseType:r,data:t,id:n}){try{t.append("id",n.toString());const s=`https://vuelos-be.onrender.com/${r}`;let i;r==="airship"?i=t:i=JSON.stringify(Object.fromEntries(t));const o=await fetch(s,{method:"PUT",body:i,headers:r!=="airship"?{"Content-Type":"application/json"}:void 0});if(!o.ok)throw new Error(`HTTP error! Status: ${o.status}`);const g=await o.text();return g?JSON.parse(g):{}}catch(s){throw console.error("Error editing element:",s),s}}const F=["Afghan","Albanian","Algerian","American","Andorran","Angolan","Antiguan","Argentinian","Armenian","Australian","Austrian","Azerbaijani","Bahamian","Bahraini","Bangladeshi","Barbadian","Belarusian","Belgian","Belizean","Beninese","Bhutanese","Bolivian","Bosnian","Botswanan","Brazilian","British","Bruneian","Bulgarian","Burkinabe","Burmese","Burundian","Cambodian","Cameroonian","Canadian","Cape Verdean","Central African","Chadian","Chilean","Chinese","Colombian","Comorian","Congolese","Costa Rican","Croatian","Cuban","Cypriot","Czech","Danish","Djiboutian","Dominican","Dutch","Ecuadorian","Egyptian","Emirati","Equatorial Guinean","Eritrean","Estonian","Eswatini","Ethiopian","Fijian","Filipino","Finnish","French","Gabonese","Gambian","Georgian","German","Ghanaian","Greek","Grenadian","Guatemalan","Guinean","Guyanese","Haitian","Honduran","Hungarian","Icelandic","Indian","Indonesian","Iranian","Iraqi","Irish","Israeli","Italian","Ivorian","Jamaican","Japanese","Jordanian","Kazakh","Kenyan","Kiribati","Kuwaiti","Kyrgyz","Laotian","Latvian","Lebanese","Liberian","Libyan","Liechtensteiner","Lithuanian","Luxembourger","Malagasy","Malawian","Malaysian","Maldivian","Malian","Maltese","Marshallese","Mauritanian","Mauritian","Mexican","Micronesian","Moldovan","Monacan","Mongolian","Montenegrin","Moroccan","Mozambican","Namibian","Nauruan","Nepalese","New Zealander","Nicaraguan","Nigerian","Nigerien","North Korean","North Macedonian","Norwegian","Omani","Pakistani","Palauan","Palestinian","Panamanian","Papua New Guinean","Paraguayan","Peruvian","Polish","Portuguese","Qatari","Romanian","Russian","Rwandan","Saint Kitts and Nevisian","Saint Lucian","Saint Vincentian","Samoan","San Marinese","Sao Tomean","Saudi","Scottish","Senegalese","Serbian","Seychellois","Sierra Leonean","Singaporean","Slovak","Slovenian","Solomon Islander","Somali","South African","South Korean","Spanish","Sri Lankan","Sudanese","Surinamese","Swazi","Swedish","Swiss","Syrian","Tajik","Tanzanian","Thai","Timorese","Togolese","Tongan","Trinidadian","Tunisian","Turkish","Turkmen","Tuvaluan","Ugandan","Ukrainian","Uruguayan","Uzbek","Vanuatuan","Venezuelan","Vietnamese","Welsh","Yemeni","Zambian","Zimbabwean"],Z=({formData:r,handleChange:t,handleEdit:n,setOpenModal:s})=>{const[i,o]=x.useState(!1),g=async b=>{b.preventDefault(),o(!0);try{const d=await n(b)}catch(d){console.error("Error editing client:",d)}finally{o(!1)}};return e.jsxs("div",{id:"editClientModal",tabIndex:-1,"aria-hidden":"true",className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-x-hidden overflow-y-auto backdrop-filter backdrop-blur-sm bg-opacity-50",children:[e.jsx("div",{className:"relative w-full max-w-2xl max-h-full",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-800",children:[e.jsxs("div",{className:"flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Edit Client"}),e.jsxs("button",{type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:()=>s(!1),children:[e.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("form",{id:"editClientForm",onSubmit:g,children:[e.jsxs("div",{className:"h-fit mb-6 grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fullname",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Full name"}),e.jsx("input",{type:"text",id:"fullname",name:"fullname",value:r.fullname,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"passport",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Passport"}),e.jsx("input",{type:"tel",id:"passport",name:"passport",value:r.passport,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nationality",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Nationality"}),e.jsxs("select",{id:"nationality",name:"nationality",className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0,children:[e.jsx("option",{defaultValue:r.nationality,children:r.nationality}),F.map(b=>e.jsx("option",{value:b,children:b}))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"identification",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"ID"}),e.jsx("input",{type:"text",id:"identification",name:"identification",value:r.identification,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Weight"}),e.jsx("input",{type:"text",id:"weight",name:"weight",value:r.weight,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]})]}),e.jsxs("div",{className:"flex justify-start items-center py-6 space-x-2 border-t border-gray-200 rounded-b dark:border-gray-600",children:[e.jsx("button",{id:"submitEdit",type:"submit",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Edit Client"}),e.jsx("button",{type:"button",className:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",onClick:()=>s(!1),children:"Cancel"})]})]})})]})}),i&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx(f,{})})]})},U=({formData:r,handleChange:t,handleEdit:n,setOpenModal:s})=>{const[i,o]=x.useState(!1),g=async b=>{b.preventDefault(),o(!0);try{await n(b)}catch(d){console.error("Error editing jet:",d)}finally{o(!1)}};return e.jsxs("div",{id:"editJetModal",tabIndex:-1,"aria-hidden":"true",className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-x-hidden overflow-y-auto backdrop-filter backdrop-blur-sm bg-opacity-50",children:[e.jsx("div",{className:"relative w-full max-w-2xl max-h-full",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-800",children:[e.jsxs("div",{className:"flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Edit Jet"}),e.jsxs("button",{type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:()=>s(!1),children:[e.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("form",{id:"editJetForm",onSubmit:g,children:[e.jsxs("div",{className:"h-fit mb-6 grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Jet Title"}),e.jsx("input",{type:"text",id:"title",name:"title",value:r.title,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Status"}),e.jsx("input",{type:"text",id:"status",name:"status",value:r.status,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pricepermile",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Price per Mile"}),e.jsx("input",{type:"number",id:"pricepermile",name:"pricepermile",value:r.pricepermile,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"seats",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Seats"}),e.jsx("input",{type:"number",id:"seats",name:"seats",value:r.seats,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"size",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Size"}),e.jsx("input",{type:"text",id:"size",name:"size",value:r.size,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]})]}),e.jsxs("div",{className:"flex justify-start items-center py-6 space-x-2 border-t border-gray-200 rounded-b dark:border-gray-600",children:[e.jsx("button",{id:"submitEdit",type:"submit",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Edit Jet"}),e.jsx("button",{type:"button",className:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",onClick:()=>s(!1),children:"Cancel"})]})]})})]})}),i&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx(f,{})})]})},Y=({formData:r,handleChange:t,phase:n})=>{const s=()=>n==="first"?e.jsxs("div",{className:"h-fit mb-6 grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"to",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"To"}),e.jsx("input",{type:"text",id:"to",name:"to",value:r.to,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"from",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"From"}),e.jsx("input",{type:"text",id:"from",name:"from",value:r.from,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"launchtime",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Launch Time"}),e.jsx("input",{type:"datetime-local",id:"launchtime",name:"launchtime",value:r.launchtime,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"master_passenger",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Master Passenger"}),e.jsx("input",{type:"text",id:"master_passenger",name:"master_passenger",value:r.master_passenger,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",required:!0})]})]}):n==="second"?e.jsxs("div",{className:"h-fit mb-6 grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"airship_name",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Airship Name"}),e.jsx("input",{type:"text",id:"airship_name",name:"airship_name",value:r.airship_name,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price_cost",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Price cost"}),e.jsx("input",{value:r.price_cost,onChange:t,type:"number",id:"price_cost",name:"price_cost",style:{appearance:"textfield",WebkitAppearance:"none",MozAppearance:"textfield"},className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price_revenue",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Price revenue"}),e.jsx("input",{id:"price_revenue",name:"price_revenue",value:r.price_revenue,disabled:!0,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]})]}):e.jsxs("div",{className:"h-fit mb-6 grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("h2",{children:["to: ",r.to]}),e.jsxs("h2",{children:["from: ",r.from]}),e.jsxs("h2",{children:["launch time: ",r.launchtime.slice(0,16)]}),e.jsxs("h2",{children:["master passenger: ",r.master_passenger]}),e.jsxs("h2",{children:["airship: ",r.airship_name]}),e.jsxs("h2",{children:["cost: ",r.price_cost]}),e.jsxs("h2",{children:["cost plus revenue: ",r.price_revenue]})]});return e.jsx(e.Fragment,{children:s()})},Q=({formData:r,handleChange:t,handleEdit:n,setOpenModal:s})=>{const[i,o]=x.useState("first");return e.jsx("div",{id:"editFlightModal",tabIndex:-1,"aria-hidden":"true",className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-x-hidden overflow-y-auto backdrop-filter backdrop-blur-sm bg-opacity-50",children:e.jsx("div",{className:"relative w-full max-w-2xl max-h-full",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-800",children:[e.jsxs("div",{className:"flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600",children:[e.jsx(S,{phase:i}),e.jsxs("button",{type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:()=>s(!1),children:[e.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("form",{id:"editFlightForm",onSubmit:n,children:[e.jsx(Y,{formData:r,handleChange:t,phase:i}),e.jsx(C,{phase:i,setPhase:o,operation:"edit"})]})})]})})})},X=({id:r,caseType:t,data:n})=>{const[s,i]=x.useState(!1),[o,g]=x.useState(n),b=async m=>{m.preventDefault();const c=m.currentTarget,l=new FormData(c),a=c.querySelector('input[name="images"]');if(a?.files)for(let u=0;u<a.files.length;u++)l.append("images",a.files[u]);try{await W({caseType:t,data:l,id:r}).then(()=>window.location.reload())}catch(u){console.error("Error:",u)}},d=m=>{const{name:c,value:l}=m.target;g(a=>({...a,[c]:l,id:r}))};return e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"bg-transparent p-2",onClick:()=>i(!0),children:e.jsx("svg",{className:"w-6 h-6 text-blue-500 ",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"})})}),s&&(t==="airship"?e.jsx(U,{formData:o,handleChange:d,handleEdit:b,setOpenModal:i}):t==="flight"?e.jsx(Q,{formData:o,handleChange:d,handleEdit:b,setOpenModal:i}):t==="client"?e.jsx(Z,{formData:o,handleChange:d,handleEdit:b,setOpenModal:i}):null)]})},ee=()=>{const[r,t]=x.useState(!1),[n,s]=x.useState(!1),[i,o]=x.useState(!1),g=()=>{t(d=>!d)},b=async d=>{d.preventDefault(),o(!0);const m=d.target,c=new FormData(m),l=Object.fromEntries(c.entries()),a={fullname:l.fullname,nationality:l.nationality,email:l.email,identification:l.identification,passport:l.passport,weight:l.weight};try{const u=await H(a);s(!0),setTimeout(()=>{s(!1),window.location.reload()},2e3),t(!1)}catch(u){console.error("Error adding client:",u)}finally{o(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("button",{id:"addClientButton",className:"block text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800",type:"button",onClick:g,children:"Add Client"}),r&&e.jsx("div",{id:"addClientModal",tabIndex:-1,"aria-hidden":"true",className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-x-hidden overflow-y-auto backdrop-filter backdrop-blur-sm bg-opacity-50",children:e.jsx("div",{className:"relative w-full max-w-2xl max-h-full",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-800",children:[e.jsxs("div",{className:"flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add New Client"}),e.jsxs("button",{type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:g,children:[e.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("form",{id:"addClientForm",onSubmit:b,children:[e.jsxs("div",{className:"h-fit mb-6 grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fullname",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Full name"}),e.jsx("input",{type:"text",id:"fullname",name:"fullname",className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nationality",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Nationality"}),e.jsxs("select",{id:"nationality",name:"nationality",className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0,children:[e.jsx("option",{defaultValue:"",children:"Select an option"}),F.map(d=>e.jsx("option",{value:d,children:d}))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"identification",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"ID"}),e.jsx("input",{type:"text",id:"identification",name:"identification",className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"passport",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Passport"}),e.jsx("input",{type:"text",id:"passport",name:"passport",className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Weight"}),e.jsx("input",{type:"text",id:"weight",name:"weight",className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]})]}),e.jsxs("div",{className:"flex justify-start items-center py-6 space-x-2 border-t border-gray-200 rounded-b dark:border-gray-600",children:[e.jsx("button",{id:"submitClient",type:"submit",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Add Client"}),e.jsx("button",{type:"button",className:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",onClick:g,children:"Cancel"})]})]})})]})})}),i&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx(f,{})}),n&&e.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2",children:e.jsxs(y,{children:[e.jsx("div",{className:"inline-flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-green-100 text-green-500 dark:bg-green-800 dark:text-green-200",children:e.jsx(v,{className:"h-5 w-5"})}),e.jsx("div",{className:"ml-3 text-sm font-normal",children:"Client added successfully."}),e.jsx(y.Toggle,{onClick:()=>s(!1)})]})})]})},re=()=>{const[r,t]=x.useState(!1),[n,s]=x.useState(!1),[i,o]=x.useState(!1),g=()=>{t(d=>!d)},b=async d=>{d.preventDefault(),o(!0);const m=d.currentTarget,c=new FormData(m);c.set("title",c.get("title")),c.set("status",c.get("status")),c.set("pricepermile",c.get("pricepermile")),c.set("seats",c.get("seats")),c.set("size",c.get("size"));const l=m.querySelector('input[name="images"]');if(l?.files)for(let a=0;a<l.files.length;a++)c.append("images",l.files[a]);try{const a=await O(c);console.log("Airship added successfully:",a),s(!0),setTimeout(()=>{s(!1),t(!1)},2e3)}catch(a){console.error("Error adding airship or uploading files:",a)}finally{o(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("button",{id:"addJetButton",className:"block text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800",type:"button",onClick:g,children:"Add Airship"}),r&&e.jsx("div",{id:"addJetModal",tabIndex:-1,"aria-hidden":"true",className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-x-hidden overflow-y-auto backdrop-filter backdrop-blur-sm bg-opacity-50",children:e.jsx("div",{className:"relative w-full max-w-2xl max-h-full",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-800",children:[e.jsxs("div",{className:"flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add New Airship"}),e.jsxs("button",{type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:g,children:[e.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("form",{id:"addJetForm",onSubmit:b,children:[e.jsxs("div",{className:"h-fit mb-6 grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Jet Title"}),e.jsx("input",{type:"text",id:"title",name:"title",className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Status"}),e.jsx("input",{type:"text",id:"status",name:"status",className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pricepermile",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Price per Mile"}),e.jsx("input",{type:"number",id:"pricepermile",name:"pricepermile",className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"seats",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Seats"}),e.jsx("input",{type:"number",id:"seats",name:"seats",className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"size",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Size"}),e.jsx("input",{type:"text",id:"size",name:"size",className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"images",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Images"}),e.jsx("input",{type:"file",id:"images",name:"images",multiple:!0,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]})]}),e.jsxs("div",{className:"flex justify-start items-center py-6 space-x-2 border-t border-gray-200 rounded-b dark:border-gray-600",children:[e.jsx("button",{id:"submitJet",type:"submit",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Add Jet"}),e.jsx("button",{type:"button",className:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",onClick:g,children:"Cancel"})]})]})})]})})}),i&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx(f,{})}),n&&e.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2",children:e.jsxs(y,{children:[e.jsx("div",{className:"inline-flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-green-100 text-green-500 dark:bg-green-800 dark:text-green-200",children:e.jsx(v,{className:"h-5 w-5"})}),e.jsx("div",{className:"ml-3 text-sm font-normal",children:"Jet added successfully."}),e.jsx(y.Toggle,{onClick:()=>s(!1)})]})})]})},ue=({caseType:r})=>{const[t,n]=x.useState(!1),[s,i]=x.useState([]),[o,g]=x.useState(!0),b=k(a=>a.flights),d=k(a=>a.clients),m=k(a=>a.airships);x.useEffect(()=>{n(window.location.pathname==="/History"),(async()=>{try{r==="flight"?i(b.map(u=>{const{updatedAt:h,...p}=u;return p}).filter(u=>{const h=new Date(u.launchtime);return new Date<h})):r==="history"?i(b.map(u=>{const{updatedAt:h,...p}=u;return p}).filter(u=>u.phase>7)):r==="client"?i(d):r==="airship"&&i(m)}catch(u){console.error("Failed to fetch data:",u)}finally{g(!1)}})()},[r,b,d,m]);const c=()=>{window.location.href="/Scheduler"},l=()=>r==="flight"?e.jsx("button",{className:"block text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",type:"button",onClick:c,children:"Add Flight"}):r==="client"?e.jsx(ee,{}):e.jsx(re,{});return e.jsx("div",{className:"relative overflow-x-auto overflow-y-auto max-h-[800px] w-full max-w-[100%] shadow-md sm:rounded-lg",children:s.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-2",children:l()}),e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 overflow-y-auto",children:[e.jsx("thead",{className:"sticky top-0 text-xs text-gray-700 uppercase bg-gray-400",children:e.jsxs("tr",{children:[Object.entries(s[0]).map(([a,u],h)=>e.jsx("th",{scope:"col",className:"px-6 py-3",children:a},h)),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),e.jsx("tbody",{className:"overflow-y-auto",children:s.map(a=>e.jsxs("tr",{className:"bg-white border-b cursor-pointer hover:bg-gray-200",children:[Object.entries(a).map(([u,h])=>e.jsx("td",{onClick:()=>{r==="flight"&&(window.location.href=`/trip/${a.id}`)},className:"px-6 py-3 whitespace-nowrap",children:h},u)),e.jsxs("td",{className:"px-6 py-3 flex whitespace-nowrap",children:[r!=="history"&&r!=="flight"&&e.jsx(X,{id:a.id,caseType:r,data:a}),e.jsx(V,{id:a.id,caseType:r,setData:i})]})]},a.id))})]})]}):e.jsx(e.Fragment,{children:e.jsx($,{loading:o})})})};export{ue as default};
