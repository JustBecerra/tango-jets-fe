import{R as b}from"./index.CqbGxsOR.js";async function D(){try{const t=await fetch("http://localhost:3001/flights");if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return await t.json()}catch(t){throw console.error("Error fetching flights:",t),t}}async function _(t){try{const e=await fetch("http://localhost:3001/flight",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);const r=await e.text();return r?JSON.parse(r):{}}catch(e){throw console.error("Error adding flight:",e),e}}async function C(){try{const t=await fetch("http://localhost:3001/clients");if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return await t.json()}catch(t){throw console.error("Error fetching clients:",t),t}}async function F(t){try{const e=await fetch("http://localhost:3001/client",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);const r=await e.text();return r?JSON.parse(r):{}}catch(e){throw console.error("Error adding client:",e),e}}async function R(){try{const t=await fetch("http://localhost:3001/airships");if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return await t.json()}catch(t){throw console.error("Error fetching Airships:",t),t}}async function A(t){try{const e=await fetch("http://localhost:3001/airship",{method:"POST",body:t});if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);const r=await e.text();return r?JSON.parse(r):{}}catch(e){throw console.error("Error adding airship:",e),e}}const I=t=>{let e;const r=new Set,o=(i,S)=>{const f=typeof i=="function"?i(e):i;if(!Object.is(f,e)){const g=e;e=S??(typeof f!="object"||f===null)?f:Object.assign({},e,f),r.forEach(d=>d(e,g))}},a=()=>e,l={setState:o,getState:a,getInitialState:()=>h,subscribe:i=>(r.add(i),()=>r.delete(i))},h=e=t(o,a,l);return l},$=t=>t?I(t):I,H=t=>t;function P(t,e=H){const r=b.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return b.useDebugValue(r),r}const E=t=>{const e=$(t),r=o=>P(e,o);return Object.assign(r,e),r},j=t=>t?E(t):E;function k(t,e){let r;try{r=t()}catch{return}return{getItem:a=>{var n;const p=h=>h===null?null:JSON.parse(h,void 0),l=(n=r.getItem(a))!=null?n:null;return l instanceof Promise?l.then(p):p(l)},setItem:(a,n)=>r.setItem(a,JSON.stringify(n,void 0)),removeItem:a=>r.removeItem(a)}}const v=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(o){return v(o)(r)},catch(o){return this}}}catch(r){return{then(o){return this},catch(o){return v(o)(r)}}}},x=(t,e)=>(r,o,a)=>{let n={storage:k(()=>localStorage),partialize:s=>s,version:0,merge:(s,m)=>({...m,...s}),...e},p=!1;const l=new Set,h=new Set;let i=n.storage;if(!i)return t((...s)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),r(...s)},o,a);const S=()=>{const s=n.partialize({...o()});return i.setItem(n.name,{state:s,version:n.version})},f=a.setState;a.setState=(s,m)=>{f(s,m),S()};const g=t((...s)=>{r(...s),S()},o,a);a.getInitialState=()=>g;let d;const T=()=>{var s,m;if(!i)return;p=!1,l.forEach(c=>{var u;return c((u=o())!=null?u:g)});const y=((m=n.onRehydrateStorage)==null?void 0:m.call(n,(s=o())!=null?s:g))||void 0;return v(i.getItem.bind(i))(n.name).then(c=>{if(c)if(typeof c.version=="number"&&c.version!==n.version){if(n.migrate){const u=n.migrate(c.state,c.version);return u instanceof Promise?u.then(w=>[!0,w]):[!0,u]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,c.state];return[!1,void 0]}).then(c=>{var u;const[w,O]=c;if(d=n.merge(O,(u=o())!=null?u:g),r(d,!0),w)return S()}).then(()=>{y?.(d,void 0),d=o(),p=!0,h.forEach(c=>c(d))}).catch(c=>{y?.(void 0,c)})};return a.persist={setOptions:s=>{n={...n,...s},s.storage&&(i=s.storage)},clearStorage:()=>{i?.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>T(),hasHydrated:()=>p,onHydrate:s=>(l.add(s),()=>{l.delete(s)}),onFinishHydration:s=>(h.add(s),()=>{h.delete(s)})},n.skipHydration||T(),d||g},J=x,L=j(J(t=>({flights:[],updateFlights:e=>t({flights:e}),airships:[],updateAirships:e=>t({airships:e}),clients:[],updateClients:e=>t({clients:e})}),{name:"data-storage",storage:k(()=>sessionStorage)}));export{C as a,R as b,_ as c,F as d,A as e,D as g,L as u};
