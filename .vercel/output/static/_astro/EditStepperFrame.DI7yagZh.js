import{j as e}from"./jsx-runtime.CDeAccHH.js";import{r as c}from"./index.CqbGxsOR.js";import{p as h,b as u}from"./actions.DpzvKnMA.js";import{L as m}from"./LoaderSpinner.t290QIza.js";import"./index.D2MAbzvX.js";const g=[{step:1,title:"First Contact"},{step:2,title:"Quote Creation"},{step:3,title:"Plane Selection"},{step:4,title:"Internal Checking"},{step:5,title:"Confirmation"},{step:6,title:"Flight Payment"},{step:7,title:"Payment Received"},{step:8,title:"Post Flight Routine"}],p=({phase:t,step:s})=>t>s?e.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 12",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 5.917 5.724 10.5 15 1.5"})}):t===s?e.jsx("svg",{className:"rtl:rotate-180 w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})}):e.jsx(e.Fragment,{}),j=({phase:t})=>e.jsx("ol",{className:"space-y-4 w-72",children:g.map(({step:s,title:r},n)=>e.jsx("li",{children:e.jsx("div",{className:`w-full p-4 ${t>s&&"text-green-400 border-green-800 bg-green-800"} border rounded-lg ${t<s&&"bg-gray-800 border-gray-700 text-gray-400"}
                            ${t===s&&"bg-gray-800 border-blue-800 text-blue-400"}
                        `,role:"alert",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"font-medium",children:[s," ",r]}),p({phase:t,step:s})]})})},n))}),f=({phase:t,setPhase:s,currentPhase:r,currentFlightId:n,setCurrentFlight:i,setLoading:o})=>{const x=async l=>{o(!0);try{l.preventDefault();const a=t+1;await h({phase:a,id:n});const d=await u(n);i(d)}catch(a){console.log(a)}finally{o(!1)}};return e.jsxs("div",{className:"w-[100%] flex justify-around",children:[t>1&&e.jsx("button",{type:"button",className:"focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 bg-gray-700 text-gray-300 border-gray-500 hover:text-white hover:bg-gray-600 focus:ring-gray-600",onClick:l=>{l.preventDefault(),s(a=>a-1)},children:"Back"}),t<8&&e.jsx("button",{type:"button",className:"text-white focus:ring-4 focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5 text-center bg-blue-600 hover:bg-blue-700 focus:ring-blue-800",onClick:l=>{l.preventDefault(),s(a=>a+1)},children:"Next Phase"}),t===r&&e.jsx("button",{type:"button",className:"text-white focus:ring-4 focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5 text-center bg-green-600 hover:bg-green-700 focus:ring-green-800",onClick:x,children:"Complete Phase"})]})},b=({currentFlight:t,localPhase:s})=>{switch(s){case 1:return e.jsxs("div",{className:"w-[100%] h-[100%] grid grid-cols-2 gap-16",children:[e.jsxs("h2",{className:"text-xl text-center",children:["From: ",e.jsx("br",{}),t&&t.from]}),e.jsxs("h2",{className:"text-xl text-center",children:["To: ",e.jsx("br",{}),t&&t.to]}),e.jsxs("h2",{className:"text-xl text-center",children:["Master Passenger: ",e.jsx("br",{}),t&&t.master_passenger]}),e.jsxs("h2",{className:"text-xl text-center",children:["Launch time: ",e.jsx("br",{}),t&&t.launchtime.slice(0,16)]})]});case 2:return e.jsxs("div",{className:"w-[100%] h-[100%] grid grid-cols-2 gap-16",children:[e.jsxs("h2",{className:"text-xl text-center",children:["Cost: ",e.jsx("br",{}),"$",t&&t.price_cost]}),e.jsxs("h2",{className:"text-xl text-center",children:["Revenue: ",e.jsx("br",{}),"$",t&&t.price_revenue]})]});case 3:return e.jsx(e.Fragment,{children:e.jsx("p",{children:"Waiting for Client to choose plane."})});case 4:return e.jsx(e.Fragment,{children:e.jsx("p",{children:"Planes chosen by the client."})});case 5:return e.jsx(e.Fragment,{children:"Send invoice with detailed prices."});case 6:return e.jsx(e.Fragment,{children:"Waiting for client to pay."});case 7:return e.jsx(e.Fragment,{children:"Check client has correctly payed and alert crew of the plane."});default:return e.jsx(e.Fragment,{children:"Post Routine Flight."})}},y=({currentFlight:t,localPhase:s,loading:r})=>e.jsxs("div",{className:"w-full h-[30%] flex justify-center items-center ",children:[b({currentFlight:t,localPhase:s}),r&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx(m,{})})]}),v=({localPhase:t,setLocalPhase:s,currentFlight:r,setCurrentFlight:n})=>{const[i,o]=c.useState(!1);return e.jsxs("div",{className:"w-[700px] h-[70%] flex flex-col items-center justify-evenly bg-gray-800 border-blue-800 rounded",children:[e.jsxs("h1",{className:"text-3xl",children:["Flight Phase: ",t]}),e.jsx(y,{currentFlight:r,localPhase:t,loading:i}),r&&e.jsx(f,{phase:t,setPhase:s,currentPhase:r.phase,currentFlightId:r.id,setCurrentFlight:n,setLoading:o})]})},L=({flightRequested:t})=>{const[s,r]=c.useState(t.phase),[n,i]=c.useState(t);return e.jsxs("div",{className:"flex h-full justify-center items-center gap-8",children:[e.jsx(v,{localPhase:s,setLocalPhase:r,currentFlight:n,setCurrentFlight:i}),n&&e.jsx(j,{phase:n.phase})]})};export{L as EditStepperFrame};
