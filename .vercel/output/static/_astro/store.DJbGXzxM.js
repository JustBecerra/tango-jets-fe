import{R as T}from"./index.CqbGxsOR.js";async function C(){try{const t=await fetch("https://vuelos-be.onrender.com/flights");if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return await t.json()}catch(t){throw console.error("Error fetching flights:",t),t}}async function D(t){try{const e=await fetch("https://vuelos-be.onrender.com/flight",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);const r=await e.text();return r?JSON.parse(r):{}}catch(e){throw console.error("Error adding flight:",e),e}}const _=t=>{const r=`; ${document.cookie}`.split(`; ${t}=`);if(r.length===2)return r.pop().split(";").shift()};async function F(){try{const t=await fetch("https://vuelos-be.onrender.com/clients");if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return await t.json()}catch(t){throw console.error("Error fetching clients:",t),t}}async function R(t){try{const e=await fetch("https://vuelos-be.onrender.com/client",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);const r=await e.text();return r?JSON.parse(r):{}}catch(e){throw console.error("Error adding client:",e),e}}async function A(){try{const t=await fetch("https://vuelos-be.onrender.com/airships");if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return await t.json()}catch(t){throw console.error("Error fetching Airships:",t),t}}async function L(t){try{const e=await fetch("https://vuelos-be.onrender.com/airship",{method:"POST",body:t});if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);const r=await e.text();return r?JSON.parse(r):{}}catch(e){throw console.error("Error adding airship:",e),e}}const I=t=>{let e;const r=new Set,o=(i,m)=>{const f=typeof i=="function"?i(e):i;if(!Object.is(f,e)){const g=e;e=m??(typeof f!="object"||f===null)?f:Object.assign({},e,f),r.forEach(d=>d(e,g))}},a=()=>e,u={setState:o,getState:a,getInitialState:()=>h,subscribe:i=>(r.add(i),()=>r.delete(i))},h=e=t(o,a,u);return u},O=t=>t?I(t):I,H=t=>t;function P(t,e=H){const r=T.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return T.useDebugValue(r),r}const k=t=>{const e=O(t),r=o=>P(e,o);return Object.assign(r,e),r},j=t=>t?k(t):k;function E(t,e){let r;try{r=t()}catch{return}return{getItem:a=>{var s;const p=h=>h===null?null:JSON.parse(h,void 0),u=(s=r.getItem(a))!=null?s:null;return u instanceof Promise?u.then(p):p(u)},setItem:(a,s)=>r.setItem(a,JSON.stringify(s,void 0)),removeItem:a=>r.removeItem(a)}}const w=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(o){return w(o)(r)},catch(o){return this}}}catch(r){return{then(o){return this},catch(o){return w(o)(r)}}}},x=(t,e)=>(r,o,a)=>{let s={storage:E(()=>localStorage),partialize:n=>n,version:0,merge:(n,S)=>({...S,...n}),...e},p=!1;const u=new Set,h=new Set;let i=s.storage;if(!i)return t((...n)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...n)},o,a);const m=()=>{const n=s.partialize({...o()});return i.setItem(s.name,{state:n,version:s.version})},f=a.setState;a.setState=(n,S)=>{f(n,S),m()};const g=t((...n)=>{r(...n),m()},o,a);a.getInitialState=()=>g;let d;const b=()=>{var n,S;if(!i)return;p=!1,u.forEach(c=>{var l;return c((l=o())!=null?l:g)});const v=((S=s.onRehydrateStorage)==null?void 0:S.call(s,(n=o())!=null?n:g))||void 0;return w(i.getItem.bind(i))(s.name).then(c=>{if(c)if(typeof c.version=="number"&&c.version!==s.version){if(s.migrate){const l=s.migrate(c.state,c.version);return l instanceof Promise?l.then(y=>[!0,y]):[!0,l]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,c.state];return[!1,void 0]}).then(c=>{var l;const[y,$]=c;if(d=s.merge($,(l=o())!=null?l:g),r(d,!0),y)return m()}).then(()=>{v?.(d,void 0),d=o(),p=!0,h.forEach(c=>c(d))}).catch(c=>{v?.(void 0,c)})};return a.persist={setOptions:n=>{s={...s,...n},n.storage&&(i=n.storage)},clearStorage:()=>{i?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>b(),hasHydrated:()=>p,onHydrate:n=>(u.add(n),()=>{u.delete(n)}),onFinishHydration:n=>(h.add(n),()=>{h.delete(n)})},s.skipHydration||b(),d||g},J=x,B=j(J(t=>({flights:[],updateFlights:e=>t({flights:e}),airships:[],updateAirships:e=>t({airships:e}),clients:[],updateClients:e=>t({clients:e})}),{name:"data-storage",storage:E(()=>sessionStorage)}));export{C as a,A as b,F as c,D as d,R as e,L as f,_ as g,B as u};
