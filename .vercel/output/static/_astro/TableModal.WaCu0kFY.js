import{j as e}from"./jsx-runtime.CDeAccHH.js";import{r as m}from"./index.CqbGxsOR.js";import{a as S,b as _,B as L,M as A,F as D,S as z,T as v,H as M,f as J}from"./FlightInfo.7ivDg8rd.js";import{L as w}from"./LoaderSpinner.t290QIza.js";import{u as N,g as G,a as O}from"./actions.DqSaCuXh.js";import{a as E,g as B,b as R,c as H}from"./actions.RyZlm8nd.js";import{g as V}from"./getCookie.CtV4NB4x.js";import"./index.D2MAbzvX.js";import"./index.Cb2GqDXq.js";async function K({caseType:r,id:t}){try{const i=await fetch(`https://vuelos-be.onrender.com/${r}/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!i.ok)throw new Error(`HTTP error! Status: ${i.status}`);return i}catch(i){throw console.error("Error deleting element:",i),i}}const W=({id:r,caseType:t,setData:i})=>{const[s,l]=m.useState(!1),[o,u]=m.useState(!1),{updateFlights:b,updateAirships:h,updateClients:k}=N(a=>a),c=async()=>{u(!0);try{if(await K({caseType:t,id:r}),t==="flight"){const a=await G();i(a.map(g=>{const{updatedAt:f,...x}=g;return x}).filter(g=>{const f=new Date(g.launchtime);return new Date<f})),b(a)}else if(t==="client"){const a=await E();i(a),k(a)}else if(t==="airship"){const a=await B();i(a),h(a)}}catch(a){console.error("Error:",a)}finally{u(!1),l(!1)}};return e.jsxs("div",{children:[e.jsx("button",{className:"bg-transparent p-2 ml-2",onClick:a=>{a.stopPropagation(),l(!0)},children:e.jsx("svg",{className:"w-6 h-6 text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"})})}),e.jsxs(S,{show:s,size:"md",onClose:()=>l(!1),popup:!0,children:[e.jsx(S.Header,{}),e.jsx(S.Body,{children:e.jsxs("div",{className:"text-center",children:[e.jsx(_,{className:"mx-auto mb-4 h-14 w-14 text-gray-900"}),e.jsxs("h3",{className:"mb-5 text-lg font-normal text-gray-900",children:["Are you sure you want to delete this id ",r,"?"]}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx(L,{className:"bg-red-600",onClick:c,children:"Yes, I'm sure"}),e.jsx(L,{color:"gray",onClick:()=>l(!1),children:"No, cancel"})]})]})})]}),o&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx(w,{})})]})},$=()=>{const[r,t]=m.useState(!1),[i,s]=m.useState(!1),[l,o]=m.useState(!1),[u,b]=m.useState("first"),[h,k]=m.useState({launchtime:new Date,to:"",from:"",price_cost:"",price_revenue:0,airship_name:"",master_passenger:"",companion_passengers:[]}),c=()=>{t(g=>!g)},a=async g=>{g.preventDefault(),o(!0);const{launchtime:f,to:x,from:d,price_cost:p,price_revenue:n,airship_name:y,master_passenger:C}=h,j=V("username"),F={launchtime:f.toISOString().slice(0,16),to:x,from:d,price_cost:p,price_revenue:n,airship_name:y,master_passenger:C,createdby:j};F.master_passenger,J(F);try{await O(F),s(!0),setTimeout(()=>{s(!1),window.location.reload()},2e3),t(!1)}catch(P){console.error("Error adding flight:",P)}finally{o(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("button",{id:"addFlightButton",className:"block text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800",type:"button",onClick:c,children:"Add Flight"}),r&&e.jsx("div",{id:"addFlightModal",tabIndex:-1,"aria-hidden":"true",className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-x-hidden overflow-y-auto backdrop-filter backdrop-blur-sm bg-opacity-50",children:e.jsx("div",{className:"relative w-full max-w-2xl max-h-full",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-800",children:[e.jsxs("div",{className:"flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600",children:[e.jsx(A,{phase:u}),e.jsxs("button",{type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:c,children:[e.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("form",{id:"addFlightForm",onSubmit:a,children:[e.jsx(D,{phase:u,formData:h,setFormData:k}),e.jsx(z,{phase:u,setPhase:b,operation:"add"})]})})]})})}),l&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx(w,{})}),i&&e.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2",children:e.jsxs(v,{children:[e.jsx("div",{className:"inline-flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-green-100 text-green-500 dark:bg-green-800 dark:text-green-200",children:e.jsx(M,{className:"h-5 w-5"})}),e.jsx("div",{className:"ml-3 text-sm font-normal",children:"Flight added successfully."}),e.jsx(v.Toggle,{onClick:()=>s(!1)})]})})]})},Z=({loading:r})=>e.jsx(e.Fragment,{children:r?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx(w,{})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-2",children:e.jsx($,{})}),e.jsx("div",{className:"flex justify-center items-center border-2 border-white rounded-lg h-[400px] w-[400px]",children:e.jsx("h2",{className:"text-2xl font-bold",children:"There is no data to show"})})]})});async function U({caseType:r,data:t,id:i}){try{t.append("id",i.toString());const s=`https://vuelos-be.onrender.com/${r}`;let l;r==="airship"?l=t:l=JSON.stringify(Object.fromEntries(t));const o=await fetch(s,{method:"PUT",body:l,headers:r!=="airship"?{"Content-Type":"application/json"}:void 0});if(!o.ok)throw new Error(`HTTP error! Status: ${o.status}`);const u=await o.text();return u?JSON.parse(u):{}}catch(s){throw console.error("Error editing element:",s),s}}const T=["Afghan","Albanian","Algerian","American","Andorran","Angolan","Antiguan","Argentinian","Armenian","Australian","Austrian","Azerbaijani","Bahamian","Bahraini","Bangladeshi","Barbadian","Belarusian","Belgian","Belizean","Beninese","Bhutanese","Bolivian","Bosnian","Botswanan","Brazilian","British","Bruneian","Bulgarian","Burkinabe","Burmese","Burundian","Cambodian","Cameroonian","Canadian","Cape Verdean","Central African","Chadian","Chilean","Chinese","Colombian","Comorian","Congolese","Costa Rican","Croatian","Cuban","Cypriot","Czech","Danish","Djiboutian","Dominican","Dutch","Ecuadorian","Egyptian","Emirati","Equatorial Guinean","Eritrean","Estonian","Eswatini","Ethiopian","Fijian","Filipino","Finnish","French","Gabonese","Gambian","Georgian","German","Ghanaian","Greek","Grenadian","Guatemalan","Guinean","Guyanese","Haitian","Honduran","Hungarian","Icelandic","Indian","Indonesian","Iranian","Iraqi","Irish","Israeli","Italian","Ivorian","Jamaican","Japanese","Jordanian","Kazakh","Kenyan","Kiribati","Kuwaiti","Kyrgyz","Laotian","Latvian","Lebanese","Liberian","Libyan","Liechtensteiner","Lithuanian","Luxembourger","Malagasy","Malawian","Malaysian","Maldivian","Malian","Maltese","Marshallese","Mauritanian","Mauritian","Mexican","Micronesian","Moldovan","Monacan","Mongolian","Montenegrin","Moroccan","Mozambican","Namibian","Nauruan","Nepalese","New Zealander","Nicaraguan","Nigerian","Nigerien","North Korean","North Macedonian","Norwegian","Omani","Pakistani","Palauan","Palestinian","Panamanian","Papua New Guinean","Paraguayan","Peruvian","Polish","Portuguese","Qatari","Romanian","Russian","Rwandan","Saint Kitts and Nevisian","Saint Lucian","Saint Vincentian","Samoan","San Marinese","Sao Tomean","Saudi","Scottish","Senegalese","Serbian","Seychellois","Sierra Leonean","Singaporean","Slovak","Slovenian","Solomon Islander","Somali","South African","South Korean","Spanish","Sri Lankan","Sudanese","Surinamese","Swazi","Swedish","Swiss","Syrian","Tajik","Tanzanian","Thai","Timorese","Togolese","Tongan","Trinidadian","Tunisian","Turkish","Turkmen","Tuvaluan","Ugandan","Ukrainian","Uruguayan","Uzbek","Vanuatuan","Venezuelan","Vietnamese","Welsh","Yemeni","Zambian","Zimbabwean"],Y=({formData:r,handleChange:t,handleEdit:i,setOpenModal:s})=>{const[l,o]=m.useState(!1),u=async b=>{b.preventDefault(),o(!0);try{const h=await i(b)}catch(h){console.error("Error editing client:",h)}finally{o(!1)}};return e.jsxs("div",{id:"editClientModal",tabIndex:-1,"aria-hidden":"true",className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-x-hidden overflow-y-auto backdrop-filter backdrop-blur-sm bg-opacity-50",children:[e.jsx("div",{className:"relative w-full max-w-2xl max-h-full",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-800",children:[e.jsxs("div",{className:"flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Edit Client"}),e.jsxs("button",{type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:()=>s(!1),children:[e.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("form",{id:"editClientForm",onSubmit:u,children:[e.jsxs("div",{className:"h-fit mb-6 grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fullname",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Full name"}),e.jsx("input",{type:"text",id:"fullname",name:"fullname",value:r.fullname,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"passport",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Passport"}),e.jsx("input",{type:"tel",id:"passport",name:"passport",value:r.passport,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nationality",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Nationality"}),e.jsxs("select",{id:"nationality",name:"nationality",className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0,children:[e.jsx("option",{defaultValue:r.nationality,children:r.nationality}),T.map(b=>e.jsx("option",{value:b,children:b}))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"identification",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"ID"}),e.jsx("input",{type:"text",id:"identification",name:"identification",value:r.identification,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Weight"}),e.jsx("input",{type:"text",id:"weight",name:"weight",value:r.weight,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]})]}),e.jsxs("div",{className:"flex justify-start items-center py-6 space-x-2 border-t border-gray-200 rounded-b dark:border-gray-600",children:[e.jsx("button",{id:"submitEdit",type:"submit",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Edit Client"}),e.jsx("button",{type:"button",className:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",onClick:()=>s(!1),children:"Cancel"})]})]})})]})}),l&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx(w,{})})]})},I=({handleDragOver:r,handleDrop:t,handleFileChange:i,portraitData:s})=>(console.log({portraitData:s}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"portrait",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Portrait Image"}),e.jsx("div",{onDragOver:r,onDrop:l=>t({event:l,type:"portrait"}),className:"flex items-center justify-center w-full mt-1",children:e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-gray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx("svg",{className:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),s.name?e.jsx("p",{className:"w-full truncate",children:s.name}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," ","or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG or JPG"})]})]}),e.jsx("input",{type:"file",id:"portrait",name:"portrait",className:"hidden",onChange:l=>i({event:l,type:"portrait"})})]})})]})),q=({handleDragOver:r,handleDrop:t,handleFileChange:i,genericData:s})=>(console.log({genericData:s}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"generic",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Generic Images"}),e.jsx("div",{onDragOver:r,onDrop:l=>t({event:l,type:"generic"}),className:"flex items-center justify-center w-full mt-1",children:e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-gray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[e.jsxs("div",{className:"flex flex-col w-full items-center justify-center pt-5 pb-6",children:[e.jsx("svg",{className:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),s.length>0?s.map((l,o)=>e.jsx("p",{className:"w-full truncate",children:l.name},o)):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," ","or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG or JPG"})]})]}),e.jsx("input",{id:"generic",name:"generic",type:"file",multiple:!0,className:"hidden",onChange:l=>i({event:l,type:"generic"})})]})})]})),Q=({formData:r,handleChange:t,handleEdit:i,setOpenModal:s,genericData:l,portraitData:o,setGenericData:u,setPortraitData:b})=>{const[h,k]=m.useState(!1),c=async x=>{x.preventDefault(),k(!0);try{await i(x)}catch(d){console.error("Error editing jet:",d)}finally{k(!1)}},a=({event:x,type:d})=>{if(d==="generic"){const p=Array.from(x.target.files||[]);u(n=>[...n,...p])}else if(d==="portrait"&&x.target.files){const p=x.target.files[0];b(p)}},g=({event:x,type:d})=>{if(x.preventDefault(),x.stopPropagation(),d==="generic"){const p=Array.from(x.dataTransfer.files);u(n=>[...n,...p])}else if(d==="portrait"){const p=x.dataTransfer.files[0];b(p)}},f=x=>{x.preventDefault(),x.stopPropagation()};return e.jsxs("div",{id:"editJetModal",tabIndex:-1,"aria-hidden":"true",className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-x-hidden overflow-y-auto backdrop-filter backdrop-blur-sm bg-opacity-50",children:[e.jsx("div",{className:"relative w-full max-w-2xl max-h-full",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-800",children:[e.jsxs("div",{className:"flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Edit Jet"}),e.jsxs("button",{type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:()=>s(!1),children:[e.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("form",{id:"editJetForm",onSubmit:c,children:[e.jsxs("div",{className:"h-fit mb-6 grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Jet Title"}),e.jsx("input",{type:"text",id:"title",name:"title",value:r.title,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Status"}),e.jsx("input",{type:"text",id:"status",name:"status",value:r.status,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"seats",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Seats"}),e.jsx("input",{type:"number",id:"seats",name:"seats",value:r.seats,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"size",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Size"}),e.jsx("input",{type:"text",id:"size",name:"size",value:r.size,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsx(I,{handleFileChange:a,handleDragOver:f,portraitData:o,handleDrop:g}),e.jsx(q,{handleFileChange:a,handleDragOver:f,genericData:l,handleDrop:g})]}),e.jsxs("div",{className:"flex justify-start items-center py-6 space-x-2 border-t border-gray-200 rounded-b dark:border-gray-600",children:[e.jsx("button",{id:"submitEdit",type:"submit",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Edit Jet"}),e.jsx("button",{type:"button",className:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",onClick:()=>s(!1),children:"Cancel"})]})]})})]})}),h&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx(w,{})})]})},X=({formData:r,handleChange:t,phase:i})=>{const s=()=>i==="first"?e.jsxs("div",{className:"h-fit mb-6 grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"to",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"To"}),e.jsx("input",{type:"text",id:"to",name:"to",value:r.to,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"from",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"From"}),e.jsx("input",{type:"text",id:"from",name:"from",value:r.from,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"launchtime",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Launch Time"}),e.jsx("input",{type:"datetime-local",id:"launchtime",name:"launchtime",value:r.launchtime,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"master_passenger",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Master Passenger"}),e.jsx("input",{type:"text",id:"master_passenger",name:"master_passenger",value:r.master_passenger,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",required:!0})]})]}):i==="second"?e.jsxs("div",{className:"h-fit mb-6 grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"airship_name",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Airship Name"}),e.jsx("input",{type:"text",id:"airship_name",name:"airship_name",value:r.airship_name,onChange:t,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price_cost",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Price cost"}),e.jsx("input",{value:r.price_cost,onChange:t,type:"number",id:"price_cost",name:"price_cost",style:{appearance:"textfield",WebkitAppearance:"none",MozAppearance:"textfield"},className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price_revenue",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Price revenue"}),e.jsx("input",{id:"price_revenue",name:"price_revenue",value:r.price_revenue,disabled:!0,className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]})]}):e.jsxs("div",{className:"h-fit mb-6 grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("h2",{children:["to: ",r.to]}),e.jsxs("h2",{children:["from: ",r.from]}),e.jsxs("h2",{children:["launch time: ",r.launchtime.slice(0,16)]}),e.jsxs("h2",{children:["master passenger: ",r.master_passenger]}),e.jsxs("h2",{children:["airship: ",r.airship_name]}),e.jsxs("h2",{children:["cost: ",r.price_cost]}),e.jsxs("h2",{children:["cost plus revenue: ",r.price_revenue]})]});return e.jsx(e.Fragment,{children:s()})},ee=({formData:r,handleChange:t,handleEdit:i,setOpenModal:s})=>{const[l,o]=m.useState("first");return e.jsx("div",{id:"editFlightModal",tabIndex:-1,"aria-hidden":"true",className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-x-hidden overflow-y-auto backdrop-filter backdrop-blur-sm bg-opacity-50",children:e.jsx("div",{className:"relative w-full max-w-2xl max-h-full",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-800",children:[e.jsxs("div",{className:"flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600",children:[e.jsx(A,{phase:l}),e.jsxs("button",{type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:()=>s(!1),children:[e.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("form",{id:"editFlightForm",onSubmit:i,children:[e.jsx(X,{formData:r,handleChange:t,phase:l}),e.jsx(z,{phase:l,setPhase:o,operation:"edit"})]})})]})})})},re=({id:r,caseType:t,data:i})=>{const[s,l]=m.useState(!1),[o,u]=m.useState(i),[b,h]=m.useState(new File(["initial content"],"",{type:"text/plain"})),[k,c]=m.useState([]),{updateClients:a,updateAirships:g}=N(),f=async d=>{d.preventDefault();const p=d.currentTarget,n=new FormData(p);n.delete("portrait"),n.delete("generic"),n.append("portrait",b),k.forEach(y=>{n.append("generic",y)});try{if(await U({caseType:t,data:n,id:r}),t==="client"){const y=await E();a(y)}else if(t==="airship"){const y=await B();g(y)}}catch(y){console.error("Error:",y)}finally{l(!1)}},x=d=>{const{name:p,value:n}=d.target;u(y=>({...y,[p]:n,id:r}))};return e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"bg-transparent p-2",onClick:()=>l(!0),children:e.jsx("svg",{className:"w-6 h-6 text-blue-500 ",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"})})}),s&&(t==="airship"?e.jsx(Q,{formData:o,handleChange:x,handleEdit:f,setOpenModal:l,genericData:k,setGenericData:c,portraitData:b,setPortraitData:h}):t==="flight"?e.jsx(ee,{formData:o,handleChange:x,handleEdit:f,setOpenModal:l}):t==="client"?e.jsx(Y,{formData:o,handleChange:x,handleEdit:f,setOpenModal:l}):null)]})},te=()=>{const[r,t]=m.useState(!1),[i,s]=m.useState(!1),[l,o]=m.useState(!1),u=()=>{t(h=>!h)},b=async h=>{h.preventDefault(),o(!0);const k=h.target,c=new FormData(k),a=Object.fromEntries(c.entries()),g={fullname:a.fullname,nationality:a.nationality,email:a.email,identification:a.identification,passport:a.passport,weight:a.weight};try{const f=await R(g);s(!0),setTimeout(()=>{s(!1),window.location.reload()},2e3),t(!1)}catch(f){console.error("Error adding client:",f)}finally{o(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("button",{id:"addClientButton",className:"block text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800",type:"button",onClick:u,children:"Add Client"}),r&&e.jsx("div",{id:"addClientModal",tabIndex:-1,"aria-hidden":"true",className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-x-hidden overflow-y-auto backdrop-filter backdrop-blur-sm bg-opacity-50",children:e.jsx("div",{className:"relative w-full max-w-2xl max-h-full",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-800",children:[e.jsxs("div",{className:"flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add New Client"}),e.jsxs("button",{type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:u,children:[e.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("form",{id:"addClientForm",onSubmit:b,children:[e.jsxs("div",{className:"h-fit mb-6 grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fullname",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Full name"}),e.jsx("input",{type:"text",id:"fullname",name:"fullname",className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nationality",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Nationality"}),e.jsxs("select",{id:"nationality",name:"nationality",className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0,children:[e.jsx("option",{defaultValue:"",children:"Select an option"}),T.map(h=>e.jsx("option",{value:h,children:h}))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"identification",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"ID"}),e.jsx("input",{type:"text",id:"identification",name:"identification",className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"passport",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Passport"}),e.jsx("input",{type:"text",id:"passport",name:"passport",className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Weight"}),e.jsx("input",{type:"text",id:"weight",name:"weight",className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]})]}),e.jsxs("div",{className:"flex justify-start items-center py-6 space-x-2 border-t border-gray-200 rounded-b dark:border-gray-600",children:[e.jsx("button",{id:"submitClient",type:"submit",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Add Client"}),e.jsx("button",{type:"button",className:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",onClick:u,children:"Cancel"})]})]})})]})})}),l&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx(w,{})}),i&&e.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2",children:e.jsxs(v,{children:[e.jsx("div",{className:"inline-flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-green-100 text-green-500 dark:bg-green-800 dark:text-green-200",children:e.jsx(M,{className:"h-5 w-5"})}),e.jsx("div",{className:"ml-3 text-sm font-normal",children:"Client added successfully."}),e.jsx(v.Toggle,{onClick:()=>s(!1)})]})})]})},ae=()=>{const[r,t]=m.useState(!1),[i,s]=m.useState(!1),[l,o]=m.useState(!1),[u,b]=m.useState(new File(["initial content"],"",{type:"text/plain"})),[h,k]=m.useState([]),c=()=>{t(d=>!d)},a=({event:d,type:p})=>{if(d.preventDefault(),d.stopPropagation(),p==="generic"){const n=Array.from(d.dataTransfer.files);k(y=>[...y,...n])}else if(p==="portrait"){const n=d.dataTransfer.files[0];b(n)}},g=({event:d,type:p})=>{if(p==="generic"){const n=Array.from(d.target.files||[]);k(y=>[...y,...n])}else if(p==="portrait"&&d.target.files){const n=d.target.files[0];b(n)}},f=d=>{d.preventDefault(),d.stopPropagation()},x=async d=>{d.preventDefault(),o(!0);const p=d.currentTarget,n=new FormData(p);n.set("title",n.get("title")),n.set("status",n.get("status")),n.set("seats",n.get("seats")),n.set("size",n.get("size"));const y=document.querySelector('input[name="generic"]');if(y?.files)for(let j=0;j<y.files.length-1;j++)n.append("generic",y.files[j]);const C=document.querySelector('input[name="portrait"]');C?.files&&n.append("portrait",C.files[0]);try{const j=await H(n);s(!0),setTimeout(()=>{s(!1),t(!1)},2e3)}catch(j){console.error("Error adding airship or uploading files:",j)}finally{o(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("button",{id:"addJetButton",className:"block text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800",type:"button",onClick:c,children:"Add Airship"}),r&&e.jsx("div",{id:"addJetModal",tabIndex:-1,"aria-hidden":"true",className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-x-hidden overflow-y-auto backdrop-filter backdrop-blur-sm bg-opacity-50",children:e.jsx("div",{className:"relative w-full max-w-3xl max-h-full",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-800",children:[e.jsxs("div",{className:"flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add New Airship"}),e.jsxs("button",{type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:c,children:[e.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("form",{id:"addJetForm",onSubmit:x,children:[e.jsxs("div",{className:"h-fit mb-6 grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Jet Title"}),e.jsx("input",{type:"text",id:"title",name:"title",className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Status"}),e.jsx("input",{type:"text",id:"status",name:"status",className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"seats",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Seats"}),e.jsx("input",{type:"number",id:"seats",name:"seats",className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"size",className:"block text-sm font-medium text-gray-900 dark:text-gray-200",children:"Size"}),e.jsx("input",{type:"text",id:"size",name:"size",className:"block w-full px-4 py-2 mt-1 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsx(I,{handleDragOver:f,handleDrop:a,handleFileChange:g,portraitData:u}),e.jsx(q,{handleDragOver:f,handleDrop:a,handleFileChange:g,genericData:h})]}),e.jsxs("div",{className:"flex justify-start items-center py-6 space-x-2 border-t border-gray-200 rounded-b dark:border-gray-600",children:[e.jsx("button",{id:"submitJet",type:"submit",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Add Jet"}),e.jsx("button",{type:"button",className:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",onClick:c,children:"Cancel"})]})]})})]})})}),l&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx(w,{})}),i&&e.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2",children:e.jsxs(v,{children:[e.jsx("div",{className:"inline-flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-green-100 text-green-500 dark:bg-green-800 dark:text-green-200",children:e.jsx(M,{className:"h-5 w-5"})}),e.jsx("div",{className:"ml-3 text-sm font-normal",children:"Jet added successfully."}),e.jsx(v.Toggle,{onClick:()=>s(!1)})]})})]})},xe=({caseType:r})=>{const[t,i]=m.useState([]),[s,l]=m.useState(!0),o=N(c=>c.flights),u=N(c=>c.clients),b=N(c=>c.airships);m.useEffect(()=>{(async()=>{try{r==="flight"?i(o.map(a=>{const{updatedAt:g,...f}=a;return f}).filter(a=>{const g=new Date(a.launchtime);return new Date<g})):r==="history"?i(o.map(a=>{const{updatedAt:g,...f}=a;return f}).filter(a=>a.phase>7)):r==="client"?i(u):r==="airship"&&i(b)}catch(a){console.error("Failed to fetch data:",a)}finally{l(!1)}})()},[r,o,u,b]);const h=()=>{window.location.href="/Scheduler"},k=()=>r==="flight"?e.jsx("button",{className:"block text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",type:"button",onClick:h,children:"Add Flight"}):r==="client"?e.jsx(te,{}):e.jsx(ae,{});return e.jsx("div",{className:"relative overflow-x-auto overflow-y-auto max-h-[800px] w-full max-w-[100%] shadow-md sm:rounded-lg",children:t.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-2",children:k()}),e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 overflow-y-auto",children:[e.jsx("thead",{className:"sticky top-0 text-xs text-gray-700 uppercase bg-gray-400",children:e.jsxs("tr",{children:[Object.entries(t[0]).map(([c,a],g)=>e.jsx("th",{scope:"col",className:"px-6 py-3",children:c},g)),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),e.jsx("tbody",{className:"overflow-y-auto",children:t.map(c=>e.jsxs("tr",{className:"bg-white border-b cursor-pointer hover:bg-gray-200",children:[Object.entries(c).map(([a,g])=>e.jsx("td",{onClick:()=>{r==="flight"&&(window.location.href=`/trip/${c.id}`)},className:"px-6 py-3 whitespace-nowrap",children:g},a)),e.jsxs("td",{className:"px-6 py-3 flex whitespace-nowrap",children:[r!=="history"&&r!=="flight"&&e.jsx(re,{id:c.id,caseType:r,data:c}),e.jsx(W,{id:c.id,caseType:r,setData:i})]})]},c.id))})]})]}):e.jsx(e.Fragment,{children:e.jsx(Z,{loading:s})})})};export{xe as default};
